"use strict";const url="https://raw.githubusercontent.com/Adalab/cards-data/master/",button=document.querySelector(".button"),radioButtons=document.querySelectorAll(".radio__button");let fullUrl;const resultsList=document.querySelector(".results__list");let numberOfCards=getNumberOfCardsFromLocalStorage();const radioFour=document.getElementById("four"),radioSix=document.getElementById("six"),radioEight=document.getElementById("eight");function getNumberOfCardsFromLocalStorage(){let s=localStorage.getItem("savedValue");return s?parseInt(s):4}const getValue=s=>{numberOfCards=s.currentTarget.value,localStorage.setItem("savedValue",s.currentTarget.value)};function createCards(s){let e=1;for(const t of s){const s=document.createElement("li");s.classList.add("list__item");const a=document.createElement("img");a.src=t.image,a.classList.add("image__front","image","hidden"),a.setAttribute("data-name",t.name),a.id=e,e++;const r=document.createElement("img");r.src="assets/images/back.png",r.classList.add("image__back","image"),resultsList.appendChild(s),s.appendChild(a),s.appendChild(r),s.addEventListener("click",turnCard)}orderCards(s)}function orderCards(s){6===s.length?resultsList.classList.add("six__cards"):resultsList.classList.remove("six__cards")}let pairsOfCards=[];function turnCard(s){const e=s.currentTarget.firstChild,t=s.currentTarget.lastChild;let a;if(e.classList.contains("pair")||(e.classList.contains("hidden")?(e.classList.remove("hidden"),t.classList.add("hidden"),a=!0):(e.classList.add("hidden"),t.classList.remove("hidden"),a=!1)),a){if(1===pairsOfCards.length?pairsOfCards[0].id!==e.id&&pairsOfCards.push(e):pairsOfCards.push(e),2===pairsOfCards.length)if(pairsOfCards[0].dataset.name===pairsOfCards[1].dataset.name){for(const s of pairsOfCards)s.classList.add("pair");pairsOfCards=[]}else{const s=[...pairsOfCards];setTimeout(()=>{for(const e of s)e.classList.add("hidden"),e.nextSibling.classList.remove("hidden")},1e3),pairsOfCards=[]}}else pairsOfCards=[]}const startGame=()=>{resultsList.innerHTML="",fetch(fullUrl=`${url}${numberOfCards}.json`).then(s=>s.json()).then(s=>{createCards(s)})};function fakeClick(s){s.click()}null===numberOfCards?(fakeClick(radioFour),resultsList.classList.remove("six__cards")):6===numberOfCards?(fakeClick(radioSix),resultsList.classList.add("six__cards")):8===numberOfCards?(fakeClick(radioEight),resultsList.classList.remove("six__cards")):(fakeClick(radioFour),resultsList.classList.remove("six__cards"));for(const s of radioButtons)s.addEventListener("click",getValue);button.addEventListener("click",startGame);